<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KaliPay - Transfert d'argent simplifié</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="logo">
            <h1>KaliPay</h1>
            <span>Transferts instantanés • Sécurisé • Fiable</span>
        </div>
        
        <div class="form-container">
            <div class="form-tabs">
                <button class="tab-btn active" onclick="showForm('login')">Connexion</button>
                <button class="tab-btn" onclick="showForm('register')">Inscription</button>
            </div>
            
            <!-- Formulaire de connexion -->
            <div id="loginForm" class="form active">
                <h2>Bienvenue !</h2>
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Mot de passe" required>
                <button class="btn-primary" onclick="login()">Se connecter</button>
                <div style="text-align: center; margin-top: 15px;">
                    <a href="#" style="color: var(--primary-blue);">Mot de passe oublié ?</a>
                </div>
            </div>
            
            <!-- Formulaire d'inscription -->
            <div id="registerForm" class="form">
                <h2>Créer un compte</h2>
                <input type="text" id="regName" placeholder="Nom complet" required>
                <input type="email" id="regEmail" placeholder="Email" required>
                <input type="tel" id="regPhone" placeholder="Téléphone" required>
                <input type="password" id="regPassword" placeholder="Mot de passe" required>
                <input type="password" id="regConfirm" placeholder="Confirmer mot de passe" required>
                <button class="btn-primary" onclick="register()">S'inscrire</button>
                <p style="text-align: center; margin-top: 15px; font-size: 12px; color: #666;">
                    En vous inscrivant, vous acceptez nos conditions d'utilisation
                </p>
            </div>
        </div>
    </div>
    
    <div id="alertMessage" class="alert"></div>
    
    <script>
        function showForm(form) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.form').forEach(f => f.classList.remove('active'));
            
            if(form === 'login') {
                document.querySelectorAll('.tab-btn')[0].classList.add('active');
                document.getElementById('loginForm').classList.add('active');
            } else {
                document.querySelectorAll('.tab-btn')[1].classList.add('active');
                document.getElementById('registerForm').classList.add('active');
            }
        }
        
        function showAlert(message, type) {
            const alert = document.getElementById('alertMessage');
            alert.textContent = message;
            alert.className = `alert ${type}`;
            alert.style.display = 'block';
            setTimeout(() => {
                alert.style.display = 'none';
            }, 3000);
        }
        
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if(!email || !password) {
                showAlert('Veuillez remplir tous les champs', 'error');
                return;
            }
            
            // Simulation de connexion - À remplacer par votre logique backend
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if(user) {
                localStorage.setItem('currentUser', JSON.stringify(user));
                window.location.href = 'dashboard.html';
            } else {
                showAlert('Email ou mot de passe incorrect', 'error');
            }
        }
        
        function register() {
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const phone = document.getElementById('regPhone').value;
            const password = document.getElementById('regPassword').value;
            const confirm = document.getElementById('regConfirm').value;
            
            if(!name || !email || !phone || !password || !confirm) {
                showAlert('Veuillez remplir tous les champs', 'error');
                return;
            }
            
            if(password !== confirm) {
                showAlert('Les mots de passe ne correspondent pas', 'error');
                return;
            }
            
            // Simulation d'inscription
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if(users.find(u => u.email === email)) {
                showAlert('Cet email est déjà utilisé', 'error');
                return;
            }
            
            const newUser = {
                id: Date.now(),
                name,
                email,
                phone,
                password,
                balance: 0,
                totalWithdrawn: 0,
                totalRecharged: 0,
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            showAlert('Inscription réussie ! Redirection...', 'success');
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 1500);
        }
    </script>
</body>
</html>
